#  Lucene





## Luncene的特点和优点



1. 采用索引查找数据

2. 数据为二进制的，存在文件中

3. 访问速度快。

4. 适用于存储文本类型的数据

   

   





## 如何创建Lucene索引库



1.  创建Field域对象以键值对的形式存放数据
2. 创建document对象封装域对象
3. 创建indexWriter对象写入Document对象到索引库中
4. 创建分词器
5. 关闭IndexWriter





## 如何根据查找Lucene中的数据



1. 创建IndexSearcher对象
2. 创建查找器QueryParser对象
3. 创建分词器
4. 用IndexSearcher对象封装查找器和分词器进行查找。





## 说一说Lucene的底层原理和检索过程

Lucene4.0以后索引使用的数据结构是FST ，他是一个有向无环图。用这个数据结构的目的是可以共享前缀，节省空间，但要求输入有序。

Luncene在内存中存放前缀索引，在磁盘中存放后缀词块



检索过程

1. 内存加载.tip文件，通过FST匹配前缀找到后缀词块位置
2. 根据位置读取磁盘中的tim文件获取后缀词块和倒排表指针
3. 根据倒排表指针信息在磁盘的doc文件中加载倒排表，倒排表就是文档号的集合。
4. 根据倒排表信息在读取正向文件的内容，正向文件就存放了原始的数据。





，

